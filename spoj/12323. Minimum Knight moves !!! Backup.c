#include<stdio.h>
char s[99];int f,g,h,j,n,i,j=0,k,movef=0,z[200001],y[9][9];int main(){for(i=0;i<9;i++)for(k=0;k<9;k++)y[i][k]=10;scanf("%d",&n);for(i=0;i<n;i++){fflush(stdin);gets(s);f=s[0]-96;g=s[1]-48;h=s[3]-96;j=s[4]-48;y[f][g]=0;if(f-h==0 && j-g==0)y[h][j]=0;else w(f,g,h,j,1);z[i]=y[h][j];for(j=1;j<9;j++)for(k=1;k<9;k++)y[j][k]=10;}for(i=0;i<n;i++)printf("%d\n",z[i]);return 0;}
int w(int a,int b,int c,int d,int x){if(a+2<9 && b+1<9 && y[a+2][b+1]>x){y[a+2][b+1]=x;w(a+2,b+1,c,d,x+1);}if(a-2>0 && b+1<9 && y[a-2][b+1]>x){y[a-2][b+1]=x;w(a-2,b+1,c,d,x+1);}if(b-1>0 && a-2>0 && y[a-2][b-1]>x){y[a-2][b-1]=x;w(a-2,b-1,c,d,x+1);}if(a+2<9 && b-1>0 && y[a+2][b-1]>x){y[a+2][b-1]=x;w(a+2,b-1,c,d,x+1);}if(a+1<9 && b+2<9 && y[a+1][b+2]>x){y[a+1][b+2]=x;w(a+1,b+2,c,d,x+1);}if(b-2>0 && a+1<9  && y[a+1][b-2]>x){y[a+1][b-2]=x;w(a+1,b-2,c,d,x+1);}if(a-1>0 && b-2>0 && y[a-1][b-2]>x){y[a-1][b-2]=x;w(a-1,b-2,c,d,x+1);}if(b+2<9 && a-1>0 && y[a-1][b+2]>x){y[a-1][b+2]=x;w(a-1,b+2,c,d,x+1);}}
